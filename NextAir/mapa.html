<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>NextAir - Mapa</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Leaflet CSS (mapa interactivo) -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>

  <!-- Fuente y estilos -->
  <link href="https://fonts.googleapis.com/css2?family=Overpass:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="mapa.css">
</head>
<body>

  <!-- === NAVBAR (mantengo tu men√∫ original) === -->
  <nav class="navbar navbar-expand-lg navbar-dark">
    <div class="container-fluid px-4">
      <a class="navbar-brand" href="#"><img src="nasa2.png" alt="NextAir Logo"></a>

      <!-- Bot√≥n hamburguesa -->
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>

      <!-- Contenedor del men√∫ -->
      <div class="collapse navbar-collapse justify-content-between" id="navbarNav">

        <!-- Men√∫ m√≥vil -->
        <ul class="navbar-nav mx-auto text-center d-lg-none py-3 w-100"
            style="background-color:#0960E1; position:absolute; top:100%; left:0; z-index:999; border-top:2px solid rgba(255,255,255,0.2);">
          <li class="nav-item"><a class="nav-link text-white" href="Inicio.html">Inicio</a></li>
          <li class="nav-item"><a class="nav-link text-white active" href="mapa.html">Mapa</a></li>
          <li class="nav-item"><a class="nav-link text-white" href="pronostico.html">Pron√≥stico</a></li>
          <li class="nav-item"><a class="nav-link text-white" href="alertas.html">Alertas</a></li>

          <li class="nav-item mt-3">
            <div class="dropdown text-center">
              <button class="dropbtn dropdown-toggle" data-bs-toggle="dropdown"
                      style="background-color: #EAEF07; color: black; border: none; padding: 8px 16px; border-radius: 6px;">
                üåê Idioma
              </button>
              <ul class="dropdown-menu text-center">
                <li><a class="dropdown-item" href="#" data-lang="es" onclick="doTranslate('es')">Espa√±ol</a></li>
                <li><a class="dropdown-item" href="#" data-lang="en" onclick="doTranslate('en')">Ingl√©s</a></li>
                <li><a class="dropdown-item" href="#" data-lang="fr" onclick="doTranslate('fr')">Franc√©s</a></li>
                <li><a class="dropdown-item" href="#" data-lang="de" onclick="doTranslate('de')">Alem√°n</a></li>
                <li><a class="dropdown-item" href="#" data-lang="it" onclick="doTranslate('it')">Italiano</a></li>
                <li><a class="dropdown-item" href="#" data-lang="pt" onclick="doTranslate('pt')">Portugu√©s</a></li>
                <li><a class="dropdown-item" href="#" data-lang="zh-CN" onclick="doTranslate('zh-CN')">Chino</a></li>
                <li><a class="dropdown-item" href="#" data-lang="ja" onclick="doTranslate('ja')">Japon√©s</a></li>
                <li><a class="dropdown-item" href="#" data-lang="ko" onclick="doTranslate('ko')">Coreano</a></li>
                <li><a class="dropdown-item" href="#" data-lang="ar" onclick="doTranslate('ar')">√Årabe</a></li>
                <li><a class="dropdown-item" href="#" data-lang="ru" onclick="doTranslate('ru')">Ruso</a></li>
              </ul>
            </div>
          </li>
        </ul>

        <!-- Men√∫ escritorio -->
        <ul class="navbar-nav mx-auto text-center d-none d-lg-flex">
          <li class="nav-item"><a class="nav-link" href="index.html">Inicio</a></li>
          <li class="nav-item"><a class="nav-link active" href="mapa.html">Mapa</a></li>
          <li class="nav-item"><a class="nav-link" href="pronostico.html">Pron√≥stico</a></li>
          <li class="nav-item"><a class="nav-link" href="alertas.html">Alertas</a></li>
        </ul>

        <!-- Bot√≥n idioma escritorio -->
        <div class="dropdown text-end d-none d-lg-block">
          <ul class="navbar-nav text-center">
            <button class="dropbtn dropdown-toggle" data-bs-toggle="dropdown">
              üåê Idioma
            </button>
            <ul class="dropdown-menu dropdown-menu-end">
              <li><a class="dropdown-item" href="#" data-lang="es" onclick="doTranslate('es')">Espa√±ol</a></li>
              <li><a class="dropdown-item" href="#" data-lang="en" onclick="doTranslate('en')">Ingl√©s</a></li>
              <li><a class="dropdown-item" href="#" data-lang="fr" onclick="doTranslate('fr')">Franc√©s</a></li>
              <li><a class="dropdown-item" href="#" data-lang="de" onclick="doTranslate('de')">Alem√°n</a></li>
              <li><a class="dropdown-item" href="#" data-lang="it" onclick="doTranslate('it')">Italiano</a></li>
              <li><a class="dropdown-item" href="#" data-lang="pt" onclick="doTranslate('pt')">Portugu√©s</a></li>
              <li><a class="dropdown-item" href="#" data-lang="zh-CN" onclick="doTranslate('zh-CN')">Chino</a></li>
              <li><a class="dropdown-item" href="#" data-lang="ja" onclick="doTranslate('ja')">Japon√©s</a></li>
              <li><a class="dropdown-item" href="#" data-lang="ko" onclick="doTranslate('ko')">Coreano</a></li>
              <li><a class="dropdown-item" href="#" data-lang="ar" onclick="doTranslate('ar')">√Årabe</a></li>
              <li><a class="dropdown-item" href="#" data-lang="ru" onclick="doTranslate('ru')">Ruso</a></li>
            </ul>
          </ul>
        </div>

      </div>
    </div>
  </nav>

  <!-- === FILTROS ARRIBA === -->
  <div class="container my-3">
    <div class="row align-items-end filtros-row g-2">
      <div class="col-sm-auto">
        <label for="fecha" class="form-label">Fecha</label>
        <input id="fecha" type="date" class="form-control">
      </div>
      <div class="col-sm-auto">
        <label for="hora" class="form-label">Hora</label>
        <input id="hora" type="time" class="form-control">
      </div>

      <div class="col-sm-auto">
        <label class="form-label">Contaminantes</label>
        <div class="dropdown">
          <button id="dropdownContaminantes" class="btn btn-secondary dropdown-toggle text-truncate" type="button" data-bs-toggle="dropdown" aria-expanded="false" title="Seleccionar contaminantes">
            Seleccionar contaminantes
          </button>
          <ul class="dropdown-menu p-2 contaminantes-lista" style="min-width:280px;">
            <li><div class="form-check compact"><input class="form-check-input contaminante-checkbox" type="checkbox" value="PM2.5" data-nombre="Material Particulado 2.5" id="chkPM25"><label class="form-check-label" for="chkPM25">Material Particulado 2.5 (PM2.5)</label></div></li>
            <li><div class="form-check compact"><input class="form-check-input contaminante-checkbox" type="checkbox" value="PM10" data-nombre="Material Particulado 10" id="chkPM10"><label class="form-check-label" for="chkPM10">Material Particulado 10 (PM10)</label></div></li>
            <li><div class="form-check compact"><input class="form-check-input contaminante-checkbox" type="checkbox" value="O‚ÇÉ" data-nombre="Ozono" id="chkO3"><label class="form-check-label" for="chkO3">Ozono (O‚ÇÉ)</label></div></li>
            <li><div class="form-check compact"><input class="form-check-input contaminante-checkbox" type="checkbox" value="NO‚ÇÇ" data-nombre="Di√≥xido de Nitr√≥geno" id="chkNO2"><label class="form-check-label" for="chkNO2">Di√≥xido de Nitr√≥geno (NO‚ÇÇ)</label></div></li>
            <li><div class="form-check compact"><input class="form-check-input contaminante-checkbox" type="checkbox" value="SO‚ÇÇ" data-nombre="Di√≥xido de Azufre" id="chkSO2"><label class="form-check-label" for="chkSO2">Di√≥xido de Azufre (SO‚ÇÇ)</label></div></li>
            <li><div class="form-check compact"><input class="form-check-input contaminante-checkbox" type="checkbox" value="CO" data-nombre="Mon√≥xido de Carbono" id="chkCO"><label class="form-check-label" for="chkCO">Mon√≥xido de Carbono (CO)</label></div></li>
          </ul>
        </div>
      </div>

      <div class="col-sm-auto">
        <button id="btnActualizar" class="btn btn-warning">Actualizar Mapa</button>
      </div>
    </div>
  </div>

  <!-- === CONTENIDO PRINCIPAL: MAPA INTERACTIVO + LEYENDA === -->
  <div class="container-fluid mb-4">
    <div class="row gx-3">
      <!-- izquierda: mapa interactivo y debajo las im√°genes -->
      <div class="col-lg-9 col-12">
        <div id="map" class="mapa-interactivo"></div>

        <!-- Aqu√≠ agregamos las 4 im√°genes debajo del mapa -->
        <div id="mapaExterno" class="mapa-externo mt-3 p-2 rounded shadow-sm">
          <div class="row g-2">
            <div class="col-6 col-md-3">
              <img src="1.jpeg" alt="Imagen 1" class="img-fluid rounded">
            </div>
            <div class="col-6 col-md-3">
              <img src="2.jpeg" alt="Imagen 2" class="img-fluid rounded">
            </div>
            <div class="col-6 col-md-3">
              <img src="3.jpeg" alt="Imagen 3" class="img-fluid rounded">
            </div>
            <div class="col-6 col-md-3">
              <img src="4.jpeg" alt="Imagen 4" class="img-fluid rounded">
            </div>
          </div>
        </div>
      </div>

      <!-- derecha: leyenda + resultados -->
      <div class="col-lg-3 col-12">
        <div class="leyenda p-3 rounded shadow-sm">
          <h5 class="text-center mb-3">Leyenda - Calidad del Aire</h5>

          <ul class="list-unstyled mb-3">
            <li><span class="color-box" style="background:green"></span> Buena (0‚Äì50)</li>
            <li><span class="color-box" style="background:yellow"></span> Moderada (51‚Äì100)</li>
            <li><span class="color-box" style="background:orange"></span> Insalubre (grupos sensibles) (101‚Äì150)</li>
            <li><span class="color-box" style="background:red"></span> Insalubre (151‚Äì200)</li>
            <li><span class="color-box" style="background:purple"></span> Muy insalubre (>200)</li>
          </ul>

          <h6 class="mb-2">Resultados</h6>
          <div id="resultados" class="resultados" style="max-height:420px; overflow-y:auto;"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- elemento oculto necesario para Google Translate -->
  <div id="google_translate_element" style="position:absolute; left:-9999px; top:-9999px; width:1px; height:1px; overflow:hidden;"></div>

  <!-- SCRIPTS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script src="mapa.js"></script>
  <script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
  <footer class="text-center py-3 mt-5" style="background-color: #1b1b1b; color: #ffffff;">
  <div class="container">
    <p class="mb-0">¬© 2025 <strong>NextAir</strong> ‚Äì Hackathon Project</p>
  </div>
</footer>

</body>
</html>

